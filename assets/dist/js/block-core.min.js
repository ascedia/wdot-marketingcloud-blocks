function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(()=>{function d(t,o){t.forEach(function(t){return e=o[t=t],n=document.getElementById(t),t=document.getElementById(t+"Error"),r=!!e,n&&n.classList.toggle("is-invalid",r),void(t&&(t.textContent=e||"",t.style.display=r?"block":"none"));var e,n,r})}function s(t,n){t.forEach(function(t){var e=document.getElementById(t);e&&(e.value=n[t]||"")})}function y(t){var t=document.getElementById(t),e=!(!window.sfdc||!window.sfdc.BlockSDK),n=e&&(()=>{try{return window.self!==window.top}catch(t){return!0}})()?new window.sfdc.BlockSDK:null;return e?n?t&&(t.textContent=""):t&&(t.textContent="Preview mode: SDK disabled."):t&&(t.textContent="BlockSDK failed to load."),n}window.BlockCore={initBlock:function(t){var n=t.fieldIds,e=t.defaults,r=t.buildEmailHtml,o=void 0===(i=t.validate)?function(){return{}}:i,u=void 0===(i=t.debounceMs)?250:i,i=t.statusElId,c=void 0===(c=t.resetBtnId)?"resetBtn":c,l=void 0===(t=t.showErrors)||t,a=y(void 0===i?"sdkStatus":i);function f(){var t=n.reduce(function(t,e){var n=document.getElementById(e);return t[e]=n?n.value:"",t},{}),e=o(t);l&&d(n,e),a&&(a.setData(t,function(){}),0<Object.keys(e).length||a.setContent(r(t),function(){}))}a?a.getData(function(t){t=_objectSpread(_objectSpread({},e),t||{});s(n,t),a.setData(t),a.setContent(r(t))}):s(n,e),n.forEach(function(t){var o,i,c,t=document.getElementById(t);t&&t.addEventListener("input",(o=f,i=u,function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];clearTimeout(c),c=setTimeout(function(){return o.apply(t,n)},i)}))}),(t=document.getElementById(c))&&t.addEventListener("click",function(){s(n,e),l&&d(n,{}),a&&(a.setData(e),a.setContent(r(e)))})},escapeHtml:function(t){return String(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},isValidHttpUrl:function(t){try{var e=new URL(String(t||"").trim());return"http:"===e.protocol||"https:"===e.protocol}catch(t){return!1}}}})();//# sourceMappingURL=block-core.min.js.map
